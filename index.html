<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/reset.css"> 
        <link rel="stylesheet" href="css/master.css">
        <title>Chauve qui peut</title>
      </head>
      <!-- ,,))))))));,
      __)))))))))))))),
\|/       -\(((((''''((((((((.
-*-==//////((''  .     `)))))),
/|\      ))| o    ;-.    '(((((                                  ,(,
    ( `|    /  )    ;))))'                               ,_))^;(~
       |   |   |   ,))((((_     _____------~~~-.        %,;(;(>';'~
       o_);   ;    )))(((` ~---~  `::           \      %%~~)(v;(`('~
             ;    ''''````         `:       `:::|\,__,%%    );`'; ~
            |   _                )     /      `:|`----'     `-'
      ______/\/~    |                 /        /
    /~;;.____/;;'  /          ___--,-(   `;;;/
   / //  _;______;'------~~~~~    /;;/\    /
  //  | |                        / ;   \;;,\
 (<_  | ;                      /',/-----'  _>
  \_| ||_                     //~;~~~~~~~~~
      `\_|                   (,~~  WOW, YOU FOUND THE UNCIORN ! WELL PLAYED !
                              \~\
                               ~~ -->
      <div class="top-intro">
      <img src="./img/logo.png" width="80px">
      <h1>Chauve qui peut</h1>
      <h2 class="sub-title">L’abécédaire des calvities</h2>
    </div>
      <div class="container"> 
        <input type="radio" id="Cat1" name="categorie"/>
        <label class="C1-NAV" for="Cat1">🎤 Chanteurs</label>
        <input type="radio" id="Cat2" name="categorie"/>
        <label class="C2-NAV" for="Cat2">⚽️ Footballeurs</label>
        <input type="radio" id="Cat3" name="categorie"/>
        <label class="C3-NAV" for="Cat3">🧐 Autres</label>
        <input type="radio" id="reset" name="categorie"/>
        <label class="RESET-NAV" for="reset">❌ Reset</label>
        <div class="tile Cat1"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C1"><div class="flex-this"><p class="big-letter">A</p></div><div class="banner-name"><h2><span>🎤</span> Charles Aznavour</h2></div></div><div class="painting-info flip-card-back"><img src="./img/A.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">B</p></div><div class="banner-name"><h2><span>🧐</span> Silvio Berlusconi</h2></div></div><div class="painting-info flip-card-back"><img src="./img/B.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">C</p></div><div class="banner-name"><h2><span>🧐</span> Nicolas Cage</h2></div></div><div class="painting-info flip-card-back"><img src="./img/C.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">D</p></div><div class="banner-name"><h2><span>🧐</span> Eliot Dupouy</h2></div></div><div class="painting-info flip-card-back"><img src="./img/D.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">E</p></div><div class="banner-name"><h2><span>🧐</span> Fabrice Eboué</h2></div></div><div class="painting-info flip-card-back"><img src="./img/E.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">F</p></div><div class="banner-name"><h2><span>🧐</span> Louis De Funès</h2></div></div><div class="painting-info flip-card-back"><img src="./img/F.png"></div></div></div></div></div>
        <div class="tile Cat2"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C2"><div class="flex-this"><p class="big-letter">G</p></div><div class="banner-name"><h2><span>⚽️</span> Gervinho</h2></div></div><div class="painting-info flip-card-back"><img src="./img/G.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">H</p></div><div class="banner-name"><h2><span>🧐</span> François Hollande </h2></div></div><div class="painting-info flip-card-back"><img src="./img/H.png"></div></div></div></div></div>
        <div class="tile Cat2"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C2"><div class="flex-this"><p class="big-letter">I</p></div><div class="banner-name"><h2><span>⚽️</span> Andrés Iniesta </h2></div></div><div class="painting-info flip-card-back"><img src="./img/I.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">J</p></div><div class="banner-name"><h2><span>🧐</span> Jiraya</h2></div></div><div class="painting-info flip-card-back"><img src="./img/J.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">L</p></div><div class="banner-name"><h2><span>🧐</span> Martin Lavielle</h2></div></div><div class="painting-info flip-card-back"><img src="./img/L.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">M</p></div><div class="banner-name"><h2><span>🧐</span> Elon Musk</h2></div></div><div class="painting-info flip-card-back"><img src="./img/M.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">N</p></div><div class="banner-name"><h2><span>🧐</span> Jack Nicholson </h2></div></div><div class="painting-info flip-card-back"><img src="./img/N.png"></div></div></div></div></div>
        <div class="tile Cat1"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C1"><div class="flex-this"><p class="big-letter">O</p></div><div class="banner-name"><h2><span>🎤</span> Pascal Obispo</h2></div></div><div class="painting-info flip-card-back"><img src="./img/O.png"></div></div></div></div></div>
        <div class="tile Cat1"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C1"><div class="flex-this"><p class="big-letter">P</p></div><div class="banner-name"><h2><span>🎤</span> Florent Pagny </h2></div></div><div class="painting-info flip-card-back"><img src="./img/P.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">Q</p></div><div class="banner-name"><h2><span>🧐</span> Quino</h2></div></div><div class="painting-info flip-card-back"><img src="./img/Q.png"></div></div></div></div></div>
        <div class="tile Cat2"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C2"><div class="flex-this"><p class="big-letter">R</p></div><div class="banner-name"><h2><span>⚽️</span> Wayne Rooney </h2></div></div><div class="painting-info flip-card-back"><img src="./img/R.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">S</p></div><div class="banner-name"><h2><span>🧐</span> Squeezie</h2></div></div><div class="painting-info flip-card-back"><img src="./img/S.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">T</p></div><div class="banner-name"><h2><span>🧐</span> Donald Trump</h2></div></div><div class="painting-info flip-card-back"><img src="./img/T.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">V</p></div><div class="banner-name"><h2><span>🧐</span> Voldemort</h2></div></div><div class="painting-info flip-card-back"><img src="./img/V.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">W</p></div><div class="banner-name"><h2><span>🧐</span> Bruce Willis</h2></div></div><div class="painting-info flip-card-back"><img src="./img/W.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">X</p></div><div class="banner-name"><h2><span>🧐</span> Xari</h2></div></div><div class="painting-info flip-card-back"><img src="./img/X.png"></div></div></div></div></div>
        <div class="tile Cat3"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C3"><div class="flex-this"><p class="big-letter">Y</p></div><div class="banner-name"><h2><span>🧐</span>You ? </h2></div></div><div style="height: 371px!important; background-color: #F3F3F3;" class="painting-info flip-card-back"><div class="photobooth">
          <img src="./img/Y.png">
          <canvas class="photo"></canvas>
          
          <video class="player"></video>
          
        </div>
        
      </div>    </div></div></div></div>
      <div class="tile Cat2"><div class="cards"><div class="flip-card"><div class="painting-el flip-card-inner"><div class="painting-face flip-card-front C2"><div class="flex-this"><p class="big-letter">Z</p></div><div class="banner-name"><h2><span>⚽️</span> Zinédine Zidane</h2></div></div><div class="painting-info flip-card-back"><img src="./img/Z.png"></div></div></div></div></div>

      
      



      <!-- CAMERA SCRIPT -->

      <script>const video = document.querySelector(".player");
        const canvas = document.querySelector(".photo");
        const ctx = canvas.getContext("2d");
        const strip = document.querySelector(".strip");
        const snap = document.querySelector(".snap");
        
        let frameId;
        const options = {
          mirrored: false,
          rgbSplit: false
        };
        
        navigator.mediaDevices
          .getUserMedia({ video: true, audio: false })
          .then(stream => {
            video.srcObject = stream;
            video.play();
            video.addEventListener(`loadedmetadata`, () => {
              canvas.width = video.videoWidth;
              canvas.height = video.videoHeight;
              requestAnimationFrame(computeFrame);
            });
          })
          .catch(err => {
            console.log("An error occured! " + err);
          });
        
        function computeFrame(timestamp) {
          ctx.drawImage(video, 0, 0); // intermediate data to manipulate
          const frame = ctx.getImageData(0, 0, canvas.width, canvas.height);
          manipulateImage(frame);
          ctx.putImageData(frame, 0, 0);
        
          requestAnimationFrame(computeFrame);
        }
        
        function manipulateImage(frame) {
          const { data, width, height } = frame;
        
          if (options.mirrored) {
            // mirror the image
            // this is just an example of image data manipulation with js;
            // can easily be done with a simple css rule - transform: scaleX(-1);
            for (let j = 0; j < height; j++) {
              for (let i = 0; i < width / 2; i++) {
                const left = 4 * (j * width + i);
                const right = 4 * (j * width + (width - 1 - i));
        
                const tempr = data[left + 0];
                const tempg = data[left + 1];
                const tempb = data[left + 2];
                const tempa = data[left + 3];
                data[left + 0] = data[right + 0];
                data[left + 1] = data[right + 1];
                data[left + 2] = data[right + 2];
                data[left + 3] = data[right + 3];
                data[right + 0] = tempr;
                data[right + 1] = tempg;
                data[right + 2] = tempb;
                data[right + 3] = tempa;
              }
            }
          }
        
          // rgb split
          if (options.rgbSplit) {
            for (let i = 0; i < data.length; i += 4) {
              data[i - 150] = data[i];
              data[i + 100] = data[i + 1];
              data[i - 550] = data[i + 2];
            }
          }
        
          // green screen
          const levels = {};
          document.querySelectorAll(`.rgb input`).forEach(input => {
            levels[input.name] = input.value;
          });
          for (let i = 0; i < data.length; i += 4) {
            const [r, g, b] = [data[i], data[i + 1], data[i + 2]];
            if (
              r >= levels.rmin &&
              r <= levels.rmax &&
              (g >= levels.gmin && g <= levels.gmax) &&
              (b >= levels.bmin && b <= levels.bmax)
            ) {
              data[i + 3] = 0; // set alpha to 0 => transparent
            }
          }
        }
        
        function takePhoto() {
          const data = canvas.toDataURL(`image/jpeg`);
        
          let link = document.createElement(`a`);
          link.href = data;
          link.download = `handsome.jpg`;
          let img = document.createElement(`img`);
          img.src = data;
          img.alt = `webcam capture at ` + new Date().toLocaleString();
        
          link.appendChild(img);
          strip.appendChild(link);
        
          // sound effect
          snap.pause();
          snap.currentTime = 0;
          snap.play();
        }
        
        for (let option in options) {
          document
            .querySelector(`input[name="${option}"]`)
            .addEventListener(`change`, e => {
              options[option] = e.currentTarget.checked;
            });
        }
        </script>
</html>